# Recipe SLM - タスク完了時のガイドライン

## 開発完了時の必須チェック項目

### 1. 機能テスト
- [ ] **API接続テスト**: LM Studio APIサーバーとの通信確認
- [ ] **メッセージ送受信**: チャット機能の正常動作確認
- [ ] **ストリーミング応答**: リアルタイム文字表示の確認
- [ ] **エラーハンドリング**: 接続失敗時の適切なエラー表示
- [ ] **モバイル機能**: タッチ操作・ジェスチャー・レスポンシブ対応確認

### 2. PWA機能検証
- [ ] **Service Worker**: オフラインキャッシュ動作確認
- [ ] **インストール促進**: beforeinstallpromptイベント動作確認
- [ ] **ホーム画面追加**: インストール後の正常起動確認
- [ ] **オフライン動作**: ネットワーク切断時の基本機能確認

### 3. ブラウザテスト
- [ ] **Chrome**: デスクトップ・モバイル版での動作確認
- [ ] **Firefox**: 基本機能の動作確認
- [ ] **Edge**: Windows環境での動作確認
- [ ] **Safari**: iOS/macOS環境での動作確認（可能な場合）

### 4. レスポンシブデザイン検証
- [ ] **スマートフォン** (320px-480px): レイアウト・操作性確認
- [ ] **タブレット** (481px-768px): 中間サイズでの表示確認
- [ ] **デスクトップ** (769px以上): 大画面での表示確認
- [ ] **画面回転**: 縦横回転時のレイアウト調整確認

## コード品質チェック

### 1. コード検証
```bash
# JavaScript構文チェック（ブラウザ開発者ツール）
- Consoleタブでエラー・警告確認
- 未定義変数・関数の確認
- 非推奨API使用の確認
```

### 2. パフォーマンス確認
- [ ] **ページ読み込み時間**: 初回・リロード時の読み込み速度
- [ ] **メモリ使用量**: 長時間使用時のメモリリーク確認
- [ ] **ストリーミング応答速度**: AI応答の表示遅延確認
- [ ] **アニメーション滑らかさ**: CSS アニメーションのフレームレート

### 3. アクセシビリティ確認
- [ ] **キーボード操作**: Tab キーでの要素フォーカス確認
- [ ] **スクリーンリーダー対応**: aria-label など属性確認
- [ ] **色彩コントラスト**: 視認性の確認
- [ ] **フォントサイズ**: 読みやすさの確認

## セキュリティチェック

### 1. 基本セキュリティ
- [ ] **XSS対策**: ユーザー入力のエスケープ処理確認
- [ ] **CSP設定**: Content Security Policy の設定確認
- [ ] **HTTPS対応**: 本番環境でのHTTPS通信確認
- [ ] **API キー保護**: 認証情報の適切な管理

### 2. プライバシー保護
- [ ] **データ外部送信なし**: ローカル完結の確認
- [ ] **ログ出力制御**: 個人情報のConsole出力なし確認
- [ ] **キャッシュ内容**: Service Workerキャッシュの適切性

## デプロイ前チェック

### 1. ファイル整合性
- [ ] **必須ファイル**: 全必要ファイルの存在確認
- [ ] **パス設定**: 相対パス・絶対パスの適切性確認
- [ ] **画像ファイル**: アイコン・スクリーンショットの確認
- [ ] **マニフェストファイル**: PWA設定の正確性確認

### 2. 設定ファイル確認
```json
// manifest.json の必須項目確認
{
  "name": "献立補助AI",
  "start_url": "/chat.html",
  "display": "standalone",
  "icons": [/* 適切なアイコン設定 */]
}
```

### 3. API設定確認
```javascript
// script.js の API_CONFIG 確認
const API_CONFIG = {
    url: 'http://192.168.2.107:1234', // 適切なエンドポイント
    model: 'local-model' // 適切なモデル名
};
```

## ドキュメント更新

### 1. README.md 更新
- [ ] **バージョン情報**: 最新バージョンの記載
- [ ] **セットアップ手順**: 最新手順の反映
- [ ] **既知の問題**: 発見された問題の記載
- [ ] **スクリーンショット**: 最新UI の画像更新

### 2. システムプロンプト確認
- [ ] **レシピ内容**: 最新のレシピ情報確認
- [ ] **AI応答品質**: プロンプト設定の適切性確認
- [ ] **個人化機能**: 「いつも」キーワード動作確認

## 完了後の推奨作業

### 1. バックアップ
```bash
# プロジェクト全体のバックアップ
xcopy "C:\Users\tomon\dev\projects\Recipe_SLM" "backup_folder" /E /I

# Git コミット
git add .
git commit -m "機能完成・テスト完了"
git push
```

### 2. パフォーマンス記録
- 起動時間・応答時間の記録
- 各デバイスでの動作確認結果記録
- 発見された問題・改善点の記録